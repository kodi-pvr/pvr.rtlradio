--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -1,13 +1,18 @@
 PROJECT(sqlite3)
 cmake_minimum_required(VERSION 2.8)
 
-
-
 include_directories(${CMAKE_SOURCE_DIR}/src)
 add_library(sqlite3 STATIC src/sqlite3.c src/sqlite3.h src/sqlite3ext.h)
 #add_executable(sqlite src/sqlite3.c src/shell.c src/sqlite3.h src/sqlite3ext.h)
 #set_target_properties(sqlite PROPERTIES OUTPUT_NAME sqlite3)
 
+if(CMAKE_SYSTEM_NAME STREQUAL WindowsStore)
+  target_compile_definitions(sqlite3
+    PRIVATE
+    SQLITE_OS_WINRT
+  )
+endif()
+
 add_definitions(-DSQLITE_ENABLE_RTREE)
 add_definitions(-DSQLITE_ENABLE_FTS4)
 add_definitions(-DSQLITE_ENABLE_FTS5)

